import{a as v,c as l,j as _,n as S,t as h,g as d,_ as y,d as C,r as m,k as V,l as k,o as A,b as I,u as i,F as P,e as L,f as $,i as p}from"./index-C41ojl20.js";import{h as f,A as u,a as B}from"./api-DUXCY34Q.js";import{u as D}from"./PlayingVideo.store-ChOOsxfT.js";const E={class:"video-card"},R={class:"video-card__title"},b=v({__name:"VideoCard",props:{id:{},file_name:{},poster:{},rate:{},year:{}},setup(n){return(a,o)=>(d(),l("div",E,[_("div",{class:"video-card__image",style:S({backgroundImage:`url(${a.poster})`})},null,4),_("div",R,h(a.file_name),1)]))}}),w=y(b,[["__scopeId","data-v-f8d905a4"]]),x=C("videoCard",()=>{const n=m([]);async function a(c){const{data:r}=await f.get(u.videocards(c));n.value=r}async function o(c,r){const{data:t}=await f.get(u.serialcards(c,r));n.value=t}return{videocards:n,fetchVideoCards:a,fetchSerialsCards:o}}),F={key:0,class:"videocards-list"},N=v({__name:"PlayVideoList",setup(n){const a=x(),o=k(),c=m(),r=D(),t=V(()=>{const e=o.params.category;return Array.isArray(e)?e[0]:e});A(()=>{a.fetchVideoCards(o.params.category)});function g(e){t.value==="Serials"&&(console.log("!Serial",e),p.push("/list-videos/Seasons"),a.fetchSerialsCards("Seasons",e)),t.value==="Seasons"?(console.log("!Seasons",e),p.push("/list-videos/Series"),a.fetchSerialsCards("Series",e)):t.value!=="Serials"&&t.value!=="Seasons"&&(c.value=e,r.fetchPlayingVideo(o.params.category,e),console.log("PLAY VIDEO ID: ",r.playingvideo))}return(e,U)=>i(a).videocards?(d(),l("div",F,[(d(!0),l(P,null,L(i(a).videocards,s=>(d(),$(w,{key:s.id,file_name:s.file_name,poster:`${i(B)}${i(u).poster_url(s.poster)}`,id:s.id,rate:String(s.rate),year:s.year,onClick:j=>g(s.id)},null,8,["file_name","poster","id","rate","year","onClick"]))),128))])):I("",!0)}}),Y=y(N,[["__scopeId","data-v-6c7faccd"]]);export{Y as default};
